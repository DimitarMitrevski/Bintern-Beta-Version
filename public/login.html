<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.orange-amber.min.css" />
    <link rel="stylesheet" type="text/css" href="companies/style.css">
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-auth.js"></script>
    <script src="firebase.js"></script>
    <script src="jquery.js"></script>
    <style>
        /* #izvestuvanje {
            display: none;
        }

        .mdl-dialog__actions {
            padding: 8px 8px 24px;
        }

        dialog button {
            color: white !important;
        } */
        * {
            margin: 0;
            padding: 0;
            font-family: "Century Gothic", sans-serif;
        }

        .hero {
            height: 100%;
            width: 100%;
            background: rgba(0, 0, 0, .4) url(https://images.unsplash.com/photo-1424298397478-4bd87a6a0f0c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80);
            background-position: center;
            background-size: cover;
            position: absolute;
        }

        .form-box {
            width: 380px;
            height: 480px;
            position: relative;
            margin: 6% auto;
            background: #fff;
            padding: 5px;
            overflow: hidden;
        }

        .button-box {
            width: 232px;
            margin: 35px auto;
            box-shadow: 0 0 20px 9px #ff61241f;
            border-radius: 30px;
            position: relative;
        }

        .toggle-btn {
            padding: 10px 23px;
            cursor: pointer;
            background: transparent;
            border: 0;
            outline: none;
            position: relative;
        }

        #btn {
            top: 0;
            left: 0;
            position: absolute;
            width: 110px;
            height: 100%;
            background: linear-gradient(to right, #ff105f, #ffad06);
            border-radius: 30px;
            transition: 0.5s;
        }

        .social-icons {
            margin: 30px auto;
            text-align: center;
        }

        .social-icons img {
            width: 30px;
            margin: 0 5px;
            box-shadow: 0 0 20px 0 #7f7f7f3d;
            cursor: pointer;
            border-radius: 50%;

        }

        .input-group {
            top: 180px;
            position: absolute;
            width: 280px;
            transition: 0.5s;
        }

        .input-field {
            width: 100%;
            padding: 10px 0;
            margin: 5px 0;
            border-left: 0;
            border-right: 0;
            border-top: 0;
            border-bottom: 1px solid #999;
            outline: none;
            background: transparent;
        }

        .submit-btn {
            width: 85%;
            padding: 10px 30px;
            cursor: pointer;
            display: block;
            margin: auto;
            background: linear-gradient(to right, #ff105f, #ffad06);
            border: 0;
            outline: none;
            border-radius: 30px;

        }

        .check-box {
            margin: 30px 10px 30px 0;
        }

        span {
            color: #777;
            font-size: 12px;
            bottom: 62px;
            position: absolute;
        }

        #login {
            left: 50px;
        }

        #register {
            left: 450px;
        }

        @media only screen and (max-width:430px) {
            .form-box {
                width: 76%;
            }

            .input-group {
                width: 80%;
            }

            .input-field {
                width: 90%;
            }

            #login {
                left: 0;
                margin: auto 10%;
            }
        }
    </style>
</head>

<body class="body">
<!-- Load Facebook SDK for JavaScript -->
      <div id="fb-root"></div>
      <script>
        window.fbAsyncInit = function() {
          FB.init({
            xfbml            : true,
            version          : 'v8.0'
          });
        };

        (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));</script>

      <!-- Your Chat Plugin code -->
      <div class="fb-customerchat"
        attribution=setup_tool
        page_id="110461527005546"
  theme_color="#fa3c4c"
  logged_in_greeting="Здраво! Како можеме да ви помогнеме?"
  logged_out_greeting="Здраво! Како можеме да ви помогнеме?">
      </div>
    <div class="hero">
        <div class="form-box">
            <div class="button-box">
                <div id="btn"></div>
                <button type="button" class="toggle-btn" onclick="login()">Најава</button>
                <button type="button" class="toggle-btn" onclick="register()">Регистрација</button>
            </div>
            <div class="social-icons">
                <img src="fb.png">
                <img src="gp.png">
            </div>
            <form id="login" class="input-group">
                <p id="loginError"></p>
                <input id="loginEmail" type="email" class="input-field" placeholder="Е-маил" required>
                <input id="loginPassword" type="password" class="input-field" placeholder="Лозинка" required>
                <input type="checkbox" class="check-box"><span>Запомнете ја лозинката</span>
                <button type="button" class="submit-btn" id="loginBtn">Најави се</button>
            </form>
            <form id="register" class="input-group">
                <input type="text" class="input-field" placeholder="Име" required>
                <input type="email" class="input-field" placeholder="Е-маил" required>
                <input type="password" class="input-field" placeholder="Лозинка" required>
                <input type="checkbox" class="check-box" required><span>Ги прифаќам условите за користење.</span>
                <button type="submit" class="submit-btn">Регистрирација</button>
            </form>
        </div>
    </div>
    <script>
        var x = document.getElementById("login");
        var y = document.getElementById("register");
        var z = document.getElementById("btn");
        function register() {
            z.style.left = "110px";
            z.style.width = "123px";
            if (window.screen.width <= 430) {
                y.style.margin = "0 10%";
                y.style.left = "0";
                x.style.left = "-400px";

            } else {
                x.style.left = "-400px";
                y.style.left = "50px";
            }
        }
        function login() {
            x.style.left = "50px";
            y.style.left = "450px";
            z.style.left = "0px";
            z.style.width = "110px";
            if (window.screen.width <= 430) {
                x.style.margin = "0 10%";
                x.style.left = "0";
                y.style.left = "450px";
            } else {
                x.style.left = "50px";
                y.style.left = "450px";
            }
        }
        $("#loginBtn").click(
            function () {
                var email = $("#loginEmail").val();
                var password = $("#loginPassword").val();

                if (email != "" && password != "") {
                    // $("#loginProgress").show();
                    // $("#loginBtn").hide();
                    firebase.auth().signInWithEmailAndPassword(email, password).catch(function (error) {
                        console.log(error.message);
                        $("#loginError").show().text(error.message);
                        $("#loginBtn").show();

                    });

                }
            });
        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                $(".hero").hide();
                var singOutBtn = document.createElement("button");
                var node = document.createTextNode("Одјави се");
                singOutBtn.appendChild(node);
                singOutBtn.onclick = function () {
                    firebase.auth().singOut().catch(function (error) {
                        console.log(error);
                    });
                }
                $(".body").append(singOutBtn);

            }
            else {

            }
        });
    </script>

    <!-- Login dialog -->
    <!-- <dialog id="loginDialog" class="mdl-dialog">
        <h4 class="mdl-dialog__title">Најави се</h4>
        <div class="mdl-dialog__content">
            <p id="loginError"></p>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="loginEmail" onkeyup="inputKeyUp(event)">
                <label class="mdl-textfield__label" for="sample3">Е-маил...</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="password" id="loginPassword" onkeyup="inputKeyUp1(event)">
                <label class="mdl-textfield__label" for="sample3">Лозинка...</label>
            </div>
        </div>
        <div class="mdl-dialog__actions">
            <button id="loginBtn"
                class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--colored">
                Најава
            </button>
            <a href="registration.html"><button id="RegistrationBtn"
                    class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--colored">
                    Регистрација
                </button>
            </a>


            <div id="loginProgress" class="mdl-spinner mdl-js-spinner is-active"></div>
        </div>
        <div id="izvestuvanje">
            <h4 id="text">Вашата е-маил адреса не е верифицирана, ве молиме проверете го вашиот мејл</h4>
        </div>
    </dialog>

    <div class="login-cover">
        <h3 id="msg" style="display: none;">За да се најавите користете Google Chrome</h3>
        <div class="page-loader mdl-spinner mdl-js-spinner is-active" id="spiner"></div>

    </div> -->
    <!-- <script>
        var dialog = document.querySelector('#loginDialog');
        if (!dialog.showModal) {
            dialogPolyfill.registerDialog(dialog);
        }
        dialog.showModal();
    </script> -->
</body>

</html>